<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>TabSearch Settings</title>
  <link href="basscss.min.css" rel="stylesheet">
  <style>
    fieldset {
      border: none;
      padding: 0;
    }

    legend {
      margin-bottom: 0.2rem;
    }

    .container {
      width: 90%;
      margin-left: auto;
      margin-right: auto;
    }

    .fixed {
      width: 5px;
    }

    .inputs {
      display: flex;
      align-items: center;
    }

    .defaults {
      max-height: 10px;
    }
    .disabled-label {
      color: grey;
    }

    .strikethrough {
      text-decoration: strikethrough;
    }

    .number-input:valid {
      border: 1px solid green;
    }

    .number-input:invalid {
      border: 1px solid red;
    }

    .number-input:focus {
      border: 1px solid black;
    }

    .range-clarification {
      font-size: 0.9em;
    }
  </style>
</head>

<body>
  <main class="container">
    <header class="flex flex-justify content-start">
      <h1>TabSearch Settings</h1>
      <div class="flex flex-none">
        <button id="reset-defaults" class="btn btn-primary flex-none">Reset to defaults</button>
      </div>
    </header>
    <p class="subheader">
      Settings are saved after every change
    </p>
    <form>
      <fieldset>
        <legend>
          <h2>Appearance</h2>
        </legend>
        <p class="inputs">
          <input class="field" type="checkbox" name="useFallbackFont" id="useFallbackFont">
          <label for="useFallbackFont">Use browser's default font (sans-serif)</label>
        </p>

        <p class="inputs">
          <input class="field" type="checkbox" name="showTabCountBadgeText" id="showTabCountBadgeText">
          <label for="showTabCountBadgeText">Display total number of tabs above the popup icon</label>
        </p>
        <p class="inputs">
          <input class="field" type="checkbox" name="enableOverlay" id="enableOverlay" disabled>
          <label class="disabled-label" for="enableOverlay">
            Visually centered search results (coming in next release)
          </label>
        </p>
      </fieldset>
      <fieldset>
        <legend>
          <h2>Search Results</h2>
        </legend>
        <div class="flex flex-justify justify-between flex-center">
          <p class="inputs">
            <input type="checkbox" name="showRecentlyClosed" id="showRecentlyClosed">
            <label for="showRecentlyClosed">Show recently closed tabs</label>
          </p>
          <p class="inputs">
            <label for="recentlyClosedLimit">Limit (max. 25): &nbsp;</label>
            <input class="number-input" type="number" name="recentlyClosedLimit" id="recentlyClosedLimit" min="0" max="25">
          </p>
        </div>
        </p>
        <p class="inputs">
          <input type="checkbox" name="alwaysShowRecentlyClosedAtTheBottom" id="alwaysShowRecentlyClosedAtTheBottom">
          <label for="alwaysShowRecentlyClosedAtTheBottom">
            Always show recently closed tabs at the bottom of the search list
          </label>
        </p>
        <p class="inputs">
          <input type="checkbox" name="searchAllWindows" id="searchAllWindows">
          <label for="searchAllWindows">Display tabs from all windows</label>
        </p>
        <p class="inputs">
          <input type="checkbox" name="showLastQueryOnPopup" id="showLastQueryOnPopup">
          <label for="showLastQueryOnPopup">
            Show the last query's results when opening the popup window
          </label>
        </p>
        <p class="inputs">
          <input type="checkbox" name="shouldSortByMostRecentlyUsedOnPopup" id="shouldSortByMostRecentlyUsedOnPopup">
          <label for="shouldSortByMostRecentlyUsedOnPopup">
           Sort tabs by most recently used (MRU) on when search is empty and on popup
          </label>
        </p>
        <p class="inputs">
<input type="checkbox" name="shouldSortByMostRecentlyUsedAll" id="shouldSortByMostRecentlyUsedAll">
<label for="shouldSortByMostRecentlyUsedAll">
            <em>Always</em> sort tabs by most recently used (MRU)
          </label>
        </p>
      </fieldset>
      <fieldset>
        <legend>
          <h2>Search Settings</h2>
        </legend>
        <p class="inputs">
          <input type="checkbox" name="showUrls" id="showUrls">
          <label for="showUrls">Search by url</label>
        </p>
        <p class="inputs">
          <input type="checkbox" name="enableFuzzySearch" id="enableFuzzySearch">
          <label for="enableFuzzySearch">Enable fuzzy search</label>
        </p>
        <p class="inputs">
          <input type="checkbox" name="shouldSort" id="shouldSort">
          <label for="shouldSort">Sort results by how close they match the search query</label>
        </p>
        <p class="inputs">
          <label class="fixed-width" for="threshold">Fuzzy search similarity threshold: </label>
          <label class="center range-clarification" for="thresholdDisplay">
            <strong>1</strong>
            <br> (Strict search)
          </label>
          <input class="input-range" type="range" min="1" max="9" name="threshold" id="threshold">
          <label class="center range-clarification" for="thresholdDisplay">
            <strong>9</strong>
            <br> (Loose search)
          </label>
          &emsp;
          <input type="number" class="number-input" min="1" max="9" name="thresholdDisplay" id="thresholdDisplay">
        </p>
      </fieldset>
    </form>
    <h2>Keyboard Shortcuts</h2>
    <button type="reset" id="shortcut-reset">
      Reset to Defaults
    </button>
    <!-- TODO: Add a box for flashing error/warning messages -->
    <p>Here is a list of shortcuts you can customize. Click the input in the left and press your desired key-combination.</p>
    <p><strong>If your shortcut overlaps with a browser or system shortcut it will not work.</strong></p>
    <div id="shortcut-flash">
    </div>
    <table id="shortcut-table" class="shortcut-table">
      <thead class="shortcut-table__header">
        <tr>
          <th>Shortcut</th>
          <th>Name</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody id="shortcut-table__body" class=" shortcut-table__body ">
        <!-- filled in with JS -->
        <tr>
          <td class="shortcut-table__shortcut">
            <input type="text" class="shortcut-table__shortcut--input">
          </td>
          <td class="shortcut-table__name">Some stuff</td>
          <td class="shortcut-table__description">Some stuff</td>
        </tr>
      </tbody>
    </table>
  </main>
  <script src="../settings_bundle.js"></script>
</body>

</html>
